{"version":3,"sources":["Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","target","value","setState","handleSubmit","preventDefault","props","onChangeQuery","reset","this","className","styles","searchbar","searchForm","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Component","Modal","closeModal","children","escCloseModal","key","useEffect","window","addEventListener","removeEventListener","overlay","onClick","nodeName","modal","ImageGalleryItem","url","alt","largeImageURL","useState","isModalOpen","setIsModalOpen","imageGalleryItem","src","ImageGallery","gallery","imageGallery","map","id","webformatURL","tags","btn","pageChanger","LoaderSection","loader","color","height","width","KEY","get","page","response","axios","App","isLoading","error","fetchRequest","a","data","hits","prevProps","prevState","result","request","scrollTo","top","document","documentElement","scrollHeight","behavior","length","Button","Loader","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2fef7310.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2bYWm\",\"modal\":\"Modal_modal__yjbQJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3j26J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__18VuK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2RlXz\",\"searchForm\":\"Searchbar_searchForm__3RpGB\",\"searchForm-button\":\"Searchbar_searchForm-button__2Uy3v\",\"searchForm-button-label\":\"Searchbar_searchForm-button-label__2IxuM\",\"searchForm-input\":\"Searchbar_searchForm-input__2xR7T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"ImageGalleryItem_App__1XNWU\",\"imageGallery\":\"ImageGalleryItem_imageGallery__OrYbq\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__Oui3d\",\"imageGalleryItem-image\":\"ImageGalleryItem_imageGalleryItem-image__mVKfU\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleChange = (e) => {\n    const query = e.target.value;\n    this.setState({\n      query,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onChangeQuery(this.state.query);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({\n      query: \"\",\n    });\n  };\n\n  render() {\n    const query = this.state.query;\n    return (\n      <>\n        <header className={styles.searchbar}>\n          <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={styles[\"searchForm-button\"]}>\n              <span className={styles[\"searchForm-button-label\"]}>Search</span>\n            </button>\n\n            <input\n              className={styles[\"searchForm-input\"]}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleChange}\n              value={query}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onChangeQuery: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React, { useEffect } from 'react';\nimport styles from './Modal.module.css';\n\n\nconst Modal = ({ closeModal, children }) => {\n  const modalCloseFunc = (e) => {\n    if (e.target.nodeName === \"IMG\") {\n      return;\n    }\n    closeModal();\n  };\n\n  const escCloseModal = (e) => {\n    if (e.key !== \"Escape\") {\n      return;\n    }\n    closeModal();\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", escCloseModal);\n    return () => {\n      window.removeEventListener(\"keydown\", escCloseModal);\n    };\n  });\n\n  return (\n    <div className={styles.overlay} onClick={modalCloseFunc}>\n      <div className={styles.modal}>\n        <>{children}</>\n      </div>\n    </div>\n  );\n};\n\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport Modal from '../Modal/Modal';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ url, alt, largeImageURL }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const openModal = () => setIsModalOpen(true);\n  const closeModal = () => setIsModalOpen(false);\n\n  return (\n    <li className={styles.imageGalleryItem}>\n      <img\n        src={url}\n        alt={alt}\n        className={styles[\"imageGalleryItem-image\"]}\n        onClick={openModal}\n      />\n      {isModalOpen && (\n        <Modal closeModal={closeModal}>\n          <img src={largeImageURL} alt={alt} />\n        </Modal>\n      )}\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\n\nconst ImageGallery = ({ gallery }) => {\n  return (\n    <>\n      <ul className={styles.imageGallery}>\n        {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            url={webformatURL}\n            alt={tags}\n            largeImageURL={largeImageURL}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\n\n\nexport default ImageGallery;\n","import React from 'react';   \nimport styles from './Button.module.css';\n\nconst btn = ({ pageChanger }) => {\n  return (\n    <button type=\"button\" className={styles.btn} onClick={pageChanger}>\n      Load more\n    </button>\n  );\n};\n\n\nexport default btn;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from './Loader.module.css';\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst LoaderSection = () => {\n  return (\n    <div className={styles.loader}>\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default LoaderSection;\n","import React, {Component} from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport axios from 'axios';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';       \nimport LoaderSection from './Loader/Loader';\n\n\nconst KEY = \"16030108-62f306d6543cc766a6e8f4e47\";\nconst get = (query, page = 1) => {\n  const response = axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return response;\n};\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    query: \"\",\n    page: 1,\n    isLoading: false,\n    error: false,\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({\n      query,\n      page: 1,\n      gallery: [],\n    });\n  };\n\n  fetchRequest = async () => {\n    try {\n      const { query, page } = this.state;\n      const response = await get(query, page);\n      return response.data.hits;\n    } catch (error) {\n      this.setState({\n        error: true,\n      });\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n\n    if (query !== prevState.query) {\n      this.setState({\n        isLoading: true,\n      });\n      const request = async () => {\n        const result = await this.fetchRequest();\n        this.setState({\n          gallery: [...result],\n          isLoading: false,\n        });\n      };\n      request();\n    }\n\n    if (page !== prevState.page) {\n      this.setState({\n        isLoading: true,\n      });\n      const request = async () => {\n        const result = await this.fetchRequest();\n        this.setState((state) => ({\n          gallery: [...state.gallery, ...result],\n          isLoading: false,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      };\n      request();\n    }\n  }\n\n  pageChanger = () => {\n    this.setState((state) => ({\n      page: state.page + 1,\n    }));\n  };\n\n  render() {\n    const { gallery, isLoading, error } = this.state;\n    return (\n      <>\n        <Searchbar onChangeQuery={this.onChangeQuery} />\n        {error && <h1>something gone wrong, try again later</h1>}\n        {!!gallery.length && !error && (\n          <>\n            <ImageGallery gallery={gallery} />\n            {!isLoading && <Button pageChanger={this.pageChanger} />}\n          </>\n        )}\n        {isLoading && <LoaderSection />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}